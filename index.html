<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Globo Minimalista con Arcos</title>
    <style>
        html, body { margin: 0; height: 100%; background-color: #f0f0f0; }
        #globeViz { width: 100%; height: 100%; }
    </style>
</head>
<body>
    <div id="globeViz"></div>

    <script src="https://cdn.jsdelivr.net/npm/globe.gl@latest"></script>

    <script>
        fetch('world.json')
            .then(res => res.json())
            .then(countries => {
                const world = Globe()(document.getElementById('globeViz'))
                    .globeImageUrl(null) // Elimina la textura de agua por defecto
                    .backgroundImageUrl('./night-sky.png')
                    .backgroundColor('black'); // Hace el fondo transparente
                    

                // Modificar el color del agua después de la inicialización del globo
                const waterMaterial = world.globeMaterial();
                if (waterMaterial) {
                    waterMaterial.color.set('#020a73'); // Cambia el color del agua a un azul RGB
                }

                // Dibujar los países
                world.polygonsData(countries.features)
                    .polygonCapColor(() => '#183eb4')
                    .polygonSideColor(() => 'rgba(0, 0, 0, 0.0)')
                    .polygonStrokeColor(() => '#020a73')
                    .polygonsTransitionDuration(300);

                // Coordenadas de Bogotá y Madrid
                const bogotaLat = 4.7110;
                const bogotaLng = -74.0721;
                const madridLat = 40.4168;
                const madridLng = -3.7038;

                // Datos del arco
                const arcsData = [
                    {
                        startLat: bogotaLat,
                        startLng: bogotaLng,
                        endLat: madridLat,
                        endLng: madridLng,
                        color: '#fff'
                    }
                ];

                // Añadir los arcos al globo
                world.arcsData(arcsData);
                world.arcAltitude(0.2);
                world.arcStroke(0.5);
                world.arcDashLength(0.1);
                world.arcDashGap(0.03);
                world.arcColor('color');
                world.arcDashLength(() => 0.1)
                world.arcDashAnimateTime(() => 3000);

            })
            .catch(err => console.error('Error al cargar el archivo JSON:', err));
    </script>
</body>
</html>


